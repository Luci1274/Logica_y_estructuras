def validar_prefijo (cuit_prefijo):
    """Valida el prefijo ingresado"""
    prefijo = cuit_prefijo
    if prefijo[:2] == "20":
        return print("\n" "Pertenece a una persona fisica")
    elif prefijo[:2] == "23":
        return print("\n""Pertenece a una persona fisica")
    elif prefijo[:2] == "24":
        return print("\n""Pertenece a una persona fisica")
    elif prefijo[:2] == "27":
        return print("\n""Pertenece a una persona fisica")
    elif prefijo[:2] == "30":
        return print("\n""Pertenece a una persona juridica")
    elif prefijo[:2] == "33":
        return print("\n""Pertenece a una persona juridica")
    elif prefijo[:2] == "34":
        return print("\n""Pertenece a una persona juridica")
    else:
        return False

def validar_cuit(cuit):
    '''Valida que el dato ingresado tenga el formato de 11 digitos'''
    if len(cuit) == 11:
        base = (5, 4, 3, 2, 7, 6, 5, 4, 3, 2)
        digito_verificador = 0
        for i in range(10):
            digito_verificador += int(cuit[i]) * base[i]
        digito_verificador = 11 - (digito_verificador - (int(digito_verificador / 11) * 11))
        if digito_verificador == 11:
            digito_verificador = 0
        elif digito_verificador == 10:
            digito_verificador = 9
        return digito_verificador == int(cuit[10]), digito_verificador, True
    else:
        return False, 0, False


while True:
    try:
        cuit_ingresado = input('Ingrese CUIT (ejemplo 20123456789) o <Enter> para salir: ').strip()
        if not cuit_ingresado:
            break
        if validar_prefijo(cuit_ingresado) == False:
            print("por favor introduzca un prefijo valido""\n"
                  "Pueden ser 20-23-24-25-27 para personas fisicas y 30-33-34 para personas juridicas""\n")
        else:
            cuit_valido, digito_obtenido, largo_correcto = validar_cuit(cuit_ingresado)
            if largo_correcto == True and cuit_valido == True:
                cuit_formateado = cuit_ingresado[:2] + "-" + cuit_ingresado[2:10] + "-" +  cuit_ingresado[10]
                print('El CUIT', cuit_formateado, 'está OK.'"\n")
                break
            elif largo_correcto == True and cuit_valido == False:
                cuit_formateado = cuit_ingresado[:2] + "-" + cuit_ingresado[2:10] + "-" +  cuit_ingresado[10]
                print('CUIT', cuit_formateado, 'es incorrecto. El dígito verificador debería ser', digito_obtenido, "\n")
            elif largo_correcto == False:
                print('El largo del CUIT ingresado NO es correcto.'"\n") 
    except:
        print("por favor ingrese un cuit")
        
